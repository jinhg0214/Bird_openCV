<!-- Right Sidebar for Recent Images -->
<div class="right-sidebar">
    <h4 class="mb-4">최근 감지된 새</h4>
    <div v-if="loading" class="text-center">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
    <div v-else>
        <div v-for="bird in recentBirds" :key="bird.id" class="card mb-3">
            <img :src="bird.imageUrl" class="card-img-top" :alt="bird.species">
            <div class="card-body">
                <h6 class="card-title text-capitalize">{{ bird.species }}</h6>
                <p class="card-text text-muted small">
                    {{ typeof bird.timestamp === 'object' && bird.timestamp.seconds
                        ? new Date(bird.timestamp.seconds * 1000).toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })
                        : new Date(bird.timestamp).toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' }) }}
                </p>
                <p class="card-text text-muted small">탐지율: {{ (bird.confidence * 100).toFixed(0) }}%</p>
                <button @click="$emit('delete-detection', bird.id)" class="btn btn-outline-danger btn-sm position-absolute bottom-0 end-0 m-2">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
        </div>
         <div v-if="!loading && recentBirds.length === 0" class="alert alert-info text-center">
            최근 감지된 새 없음!
        </div>
    </div>
</div>